<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>My Account ‚Äî Aiaxcart Premium Shop</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="style.css" rel="stylesheet">
  <style>
    body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial; background:#faf8f8; color:#222; }
    .wrap { max-width: 980px; margin: 32px auto; padding: 0 16px; }
    a.btn, button.btn { display:inline-block; padding:10px 14px; border-radius:10px; border:1px solid #c79; color:#a05561; background:#fff; text-decoration:none; }
    .btn.primary { background:#c78995; color:#fff; border-color:#c78995; }
    .btn.ghost { background:#fff; color:#a05561; }
    header { display:flex; gap:10px; align-items:center; margin-bottom:16px; }
    header h1 { font-size:24px; margin:0; }
    .grid { display:grid; grid-template-columns: 1.1fr 1fr; gap:20px; }
    @media (max-width:900px){ .grid { grid-template-columns: 1fr; } }
    .card { background:#fff; border:1px solid #eee; border-radius:16px; padding:18px; box-shadow: 0 2px 8px rgba(0,0,0,.03); }
    .muted { color:#666; font-size:14px; }
    .row { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .field { display:flex; flex-direction:column; gap:6px; margin-bottom:12px; }
    .field label { font-size:13px; color:#666; }
    .field input[type="text"],
    .field input[type="email"],
    .field input[type="datetime-local"],
    .field input[type="number"],
    .field select { padding:10px 12px; border:1px solid #ddd; border-radius:10px; background:#fff; }
    .chip { background:#f3e7e9; color:#a05561; padding:2px 10px; border-radius:999px; font-size:12px; }
    .price { font-weight:600; }
    .qr { width:160px; border:1px solid #eee; border-radius:8px; }
    .list { display:flex; flex-direction:column; gap:10px; }
    .flex { display:flex; align-items:center; justify-content:space-between; gap:8px; }
    .divider { height:1px; background:#f0f0f0; margin:12px 0; }
    details { border:1px dashed #e9d1d6; border-radius:10px; padding:10px 12px; }
    summary { cursor:pointer; color:#a05561; }
    .right { text-align:right; }
    .warn { color:#b24; }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
  <a href="index.html" class="btn ghost">‚Üê Back to Store</a>
  <h1>My Account</h1>
  <div style="flex:1"></div>
  <a href="feedback.html" class="btn">Feedback</a>
  <button id="logoutBtn" class="btn ghost">Logout</button>
</header>

<!-- üëá keep both panels in the same page -->
<div id="authGate" class="card">
  <h3>Sign in</h3>
  <div class="row">
    <div class="field" style="min-width:260px">
      <label>Email</label>
      <input id="loginEmail" type="email" placeholder="you@email.com">
    </div>
    <div class="field" style="min-width:220px">
      <label>Password</label>
      <input id="loginPass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
    </div>
  </div>
  <div class="row">
    <button id="loginBtn" class="btn primary">Sign in</button>
    <button id="signupBtn" class="btn">Create account</button>
  </div>
  <p class="muted" id="authMsg"></p>
</div>

<div id="app" class="hidden">
  <!-- dito napupunta yung My Orders at Checkout grid -->
</div>

<noscript>
  <div class="card warn" style="margin-top:12px">
    This page needs JavaScript enabled to work properly.
  </div>
</noscript>



    <div id="authGate" class="card" style="display:none;">
      <h3>Sign in</h3>
      <div class="row">
        <div class="field" style="min-width:260px">
          <label>Email</label>
          <input id="loginEmail" type="email" placeholder="you@email.com">
        </div>
        <div class="field" style="min-width:220px">
          <label>Password</label>
          <input id="loginPass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
        </div>
      </div>
      <div class="row">
        <button id="loginBtn" class="btn primary">Sign in</button>
        <button id="signupBtn" class="btn">Create account</button>
      </div>
      <p class="muted" id="authMsg"></p>
    </div>

    <div id="app" style="display:none;">
      <div class="grid">
        <!-- LEFT: Order history -->
        <section class="card">
          <h3 style="margin-top:0">My Orders</h3>
          <div id="ordersBox" class="list">
            <p class="muted">Loading‚Ä¶</p>
          </div>
        </section>

        <!-- RIGHT: Checkout -->
        <section class="card">
          <h3 style="margin-top:0">New Order</h3>
          <div class="field">
            <label>Product</label>
            <select id="pSel"></select>
          </div>

          <div class="row">
            <div class="field" style="min-width:160px">
              <label>Ownership</label>
              <select id="ownSel">
                <option value="solo" selected>Solo</option>
                <option value="shared">Shared</option>
              </select>
            </div>
            <div class="field" style="min-width:160px">
              <label>Credentials</label>
              <select id="credSel">
                <option value="profile">Profile</option>
                <option value="account" selected>Account</option>
              </select>
            </div>
            <div class="field" style="min-width:160px">
              <label>Duration</label>
              <select id="durSel">
                <option value="7">7 days</option>
                <option value="14">14 days</option>
                <option value="30" selected>1 month</option>
                <option value="60">2 months</option>
                <option value="90">3 months</option>
                <option value="180">6 months</option>
                <option value="365">12 months</option>
              </select>
            </div>
          </div>

          <div class="flex">
            <div class="muted">Amount</div>
            <div id="amountTxt" class="price">‚Ç±0.00</div>
          </div>
          <div class="divider"></div>

          <div class="field">
            <label>Payment method</label>
            <div class="row">
              <label class="row"><input type="radio" name="pm" value="gcash" checked> GCash</label>
              <label class="row"><input type="radio" name="pm" value="maya"> Maya</label>
            </div>
          </div>

          <div id="payBox" class="row">
            <div id="gcashInfo" class="row" style="gap:14px">
              <img src="gcashqr.jpg" class="qr" alt="GCash QR">
              <div>
                <div><b>GCash number:</b> <span id="gcashNum">09XX-XXX-XXXX</span></div>
                <div class="muted">Scan the QR or send exact amount then provide ref/time below.</div>
              </div>
            </div>
            <div id="mayaInfo" class="row" style="gap:14px; display:none">
              <img src="mayaqr.jpg" class="qr" alt="Maya QR">
              <div>
                <div><b>Maya number:</b> <span id="mayaNum">09YY-YYY-YYYY</span></div>
                <div class="muted">Scan the QR or send exact amount then provide ref/time below.</div>
              </div>
            </div>
          </div>

          <div class="divider"></div>

          <div class="row">
            <div class="field" style="min-width:160px">
              <label>Reference no.</label>
              <input id="refNo" type="text" placeholder="e.g. 1234567890">
            </div>
            <div class="field" style="min-width:220px">
              <label>Time sent</label>
              <input id="sentAt" type="datetime-local">
            </div>
          </div>

          <div class="field">
            <label>Upload receipt (optional, JPG/PNG/PDF)</label>
            <input id="receiptFile" type="file" accept=".jpg,.jpeg,.png,.pdf">
          </div>

          <div class="right">
            <button id="placeBtn" class="btn primary">Confirm Order</button>
          </div>

          <p id="msg" class="muted"></p>
        </section>
      </div>
    </div>
  </div>

  <!-- Supabase init you already use -->
  <script src="app.js"></script>
  <script src="account.js"></script>
  <!-- ‚ö†Ô∏è script order matters -->
<script src="app.js?v=2"></script>
<script src="account.js?v=2"></script>
</body>
</html>
